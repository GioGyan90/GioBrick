System.register("chunks:///_virtual/BallControl.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,n,o,r,s,a,d,l,c,h,p,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,s=e._decorator,a=e.Node,d=e.input,l=e.Input,c=e.UITransform,h=e.Vec3,p=e.director,u=e.Component}],execute:function(){var g,f,v,m,y,T,B;r._RF.push({},"f0930u7AphG77KQ51Z3THKN","BallControl",void 0);var C=s.ccclass,O=s.property;e("BallControl",(g=C("BallControl"),f=O(a),v=O(a),g((T=t((y=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return t=e.call.apply(e,[this].concat(r))||this,n(t,"paddle",T,o(t)),n(t,"gameOverUI",B,o(t)),t.speed=450,t.direction=new h(1,1,0),t.isDead=!1,t}i(t,e);var r=t.prototype;return r.onLoad=function(){d.on(l.EventType.TOUCH_START,this.onScreenTouch,this)},r.onScreenTouch=function(e){this.isDead&&this.resetGame()},r.update=function(e){if(!this.isDead){var t=this.node.position,i=t.x+this.direction.x*this.speed*e,n=t.y+this.direction.y*this.speed*e;if((i>460||i<-460)&&(this.direction.x*=-1),n>320&&(this.direction.y*=-1),n<-380)this.handleGameOver();else{if(this.paddle){var o=this.node.getComponent(c).getBoundingBoxToWorld(),r=this.paddle.getComponent(c).getBoundingBoxToWorld();o.intersects(r)&&(this.direction.y=1,n=this.paddle.position.y+45)}var s=this.node.parent.getChildByName("GameManager");if(s)for(var a=s.children,d=0;d<a.length;d++){var l=a[d],p=this.node.getComponent(c).getBoundingBoxToWorld(),u=l.getComponent(c).getBoundingBoxToWorld();if(p.intersects(u)){this.direction.y*=-1,l.destroy();break}}this.node.setPosition(new h(i,n,0))}}},r.handleGameOver=function(){this.isDead=!0,this.speed=0,this.gameOverUI&&(this.gameOverUI.active=!0),console.log("ï¿½ï¿½Ï·ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ä»ï¿½ï¿½ï¿½Â¿ï¿½Ê¼")},r.resetGame=function(){this.isDead=!1,this.speed=450,this.node.setPosition(new h(0,0,0)),this.direction=new h(Math.random()>.5?1:-1,1,0),this.gameOverUI&&(this.gameOverUI.active=!1),p.loadScene(p.getScene().name)},r.onDestroy=function(){d.off(l.EventType.TOUCH_START,this.onScreenTouch,this)},t}(u)).prototype,"paddle",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(y.prototype,"gameOverUI",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=y))||m));r._RF.pop()}}}));

System.register("chunks:///_virtual/GameManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){var e,t,s,n,a,r,l,o,c,h,u,b,d,p,f,g,v,_;return{setters:[function(i){e=i.applyDecoratedDescriptor,t=i.inheritsLoose,s=i.initializerDefineProperty,n=i.assertThisInitialized},function(i){a=i.cclegacy,r=i._decorator,l=i.Prefab,o=i.Node,c=i.input,h=i.Input,u=i.KeyCode,b=i.instantiate,d=i.Vec3,p=i.game,f=i.isValid,g=i.RigidBody2D,v=i.Vec2,_=i.Component}],execute:function(){var y,w,k,m,I,P,C;a._RF.push({},"2883aLftYhF375xnwh2Mm0o","GameManager",void 0);var U=r.ccclass,B=r.property;i("GameManager",(y=U("GameManager"),w=B(l),k=B(o),y((P=e((I=function(i){function e(){for(var e,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return e=i.call.apply(i,[this].concat(a))||this,s(e,"brickPrefab",P,n(e)),s(e,"winUI",C,n(e)),e.rows=5,e.cols=8,e.spacingX=90,e.spacingY=40,e._bricks=[],e._ball=null,e}t(e,i);var a=e.prototype;return a.onLoad=function(){var i=this;this.winUI&&(this.winUI.active=!1),this.createBricks(),c.on(h.EventType.KEY_DOWN,(function(e){e.keyCode===u.KEY_R&&i.resetGame()}),this)},a.createBricks=function(){console.log("ðŸ› ï¸ æ­£åœ¨ç”Ÿæˆç –å—é˜µåˆ—..."),this.node.removeAllChildren(),this._bricks=[];for(var i=-(this.cols-1)*this.spacingX/2,e=0;e<this.rows;e++)for(var t=0;t<this.cols;t++){var s=b(this.brickPrefab);this.node.addChild(s);var n=i+t*this.spacingX,a=250-e*this.spacingY;s.setPosition(new d(n,a,0)),this._bricks.push(s)}},a.update=function(i){if(!p.isPaused||!p.isPaused())if(this._ball&&f(this._ball)){for(var e=this._ball.position,t=this._bricks.length-1;t>=0;t--){var s=this._bricks[t];if(f(s)){var n=s.position,a=Math.abs(e.x-n.x),r=Math.abs(e.y-n.y);if(a<60&&r<40){this.handleHit(s,t);break}}else this._bricks.splice(t,1)}0===this._bricks.length&&this.winUI&&!this.winUI.active&&this.showWin()}else this._ball=this.node.scene.getChildByPath("Canvas/Ball")},a.handleHit=function(i,e){if(i.destroy(),this._bricks.splice(e,1),console.log("å‡»ç¢Žç –å—ï¼Œå‰©ä½™ï¼š"+this._bricks.length),this._ball){var t=this._ball.getComponent(g);if(t){var s=t.linearVelocity;t.linearVelocity=new v(s.x,-s.y)}}this._bricks.length<=0&&this.showWin()},a.showWin=function(){this.winUI&&(console.log("ðŸ† è§¦å‘èƒœåˆ©åˆ¤å®šï¼"),this.winUI.active=!0,this.winUI.setSiblingIndex(99),this.scheduleOnce((function(){p.pause()}),.05))},a.resetGame=function(){console.log("ðŸ”„ é‡ç½®æ¸¸æˆ..."),p.resume(),this.winUI&&(this.winUI.active=!1),this._ball&&f(this._ball)&&(this._ball.destroy(),this._ball=null),this.createBricks();var i=this.node.scene.getChildByPath("Canvas/Paddle");if(i){var e=i.getComponent("PaddleControl");e&&e.resetPaddleStatus()}},e}(_)).prototype,"brickPrefab",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(I.prototype,"winUI",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=I))||m));a._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./BallControl.ts","./GameManager.ts","./PaddleControl.ts"],(function(){return{setters:[null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/PaddleControl.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,a,n,l,s,o,r,h,u,c,d,v,p,b,f,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,a=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){l=e.cclegacy,s=e._decorator,o=e.Prefab,r=e.Node,h=e.input,u=e.Input,c=e.game,d=e.v3,v=e.instantiate,p=e.RigidBody2D,b=e.Vec2,f=e.isValid,m=e.Component}],execute:function(){var y,g,P,O,I,U,_;l._RF.push({},"616baWA/FRLJaXhjyxKSsOO","PaddleControl",void 0);var S=s.ccclass,C=s.property;e("PaddleControl",(y=S("PaddleControl"),g=C(o),P=C(r),y((U=t((I=function(e){function t(){for(var t,i=arguments.length,l=new Array(i),s=0;s<i;s++)l[s]=arguments[s];return t=e.call.apply(e,[this].concat(l))||this,a(t,"ballPrefab",U,n(t)),a(t,"gameOverUI",_,n(t)),t.ball=null,t._isGameStarted=!1,t}i(t,e);var l=t.prototype;return l.onLoad=function(){h.on(u.EventType.MOUSE_MOVE,this.onMouseMove,this),h.on(u.EventType.MOUSE_DOWN,this.tryLaunchBall,this),this.gameOverUI&&(this.gameOverUI.active=!1)},l.onMouseMove=function(e){if(!c.isPaused||!c.isPaused()){var t=this.node.position;this.node.setPosition(d(e.getLocationX()-640,t.y,0))}},l.tryLaunchBall=function(){if(!(this._isGameStarted||c.isPaused&&c.isPaused())){this._isGameStarted=!0,this.gameOverUI&&(this.gameOverUI.active=!1),this.ball=v(this.ballPrefab),this.node.scene.getChildByName("Canvas").addChild(this.ball);var e=this.node.position;this.ball.setPosition(d(e.x,e.y+60,0));var t=this.ball.getComponent(p);t&&(t.enabled=!0,t.linearVelocity=new b(10*(Math.random()-.5),20))}},l.resetPaddleStatus=function(){this._isGameStarted=!1,this.gameOverUI&&(this.gameOverUI.active=!1)},l.update=function(e){this._isGameStarted&&this.ball&&f(this.ball)&&this.ball.position.y<-400&&this.onBallFail()},l.onBallFail=function(){this._isGameStarted=!1,this.gameOverUI&&(this.gameOverUI.active=!0),this.ball&&(this.ball.destroy(),this.ball=null)},t}(m)).prototype,"ballPrefab",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(I.prototype,"gameOverUI",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=I))||O));l._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});